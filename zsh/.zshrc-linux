# --- ZSH --- 

# Powerlevel10k Theme
source ~/powerlevel10k/powerlevel10k.zsh-theme
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# oh-my-zsh
export ZSH="$HOME/.oh-my-zsh"

# --- PROFILE --- 
export EDITOR='nvim'

# --- PATH --- 
export PATH=$PATH:/usr/local/go/bin
export PATH="$HOME/bin:$PATH";

# --- ALIAS' --- 

# Basics 
alias lg="lazygit"
alias vim="nvim"
alias vi="NVIM_APPNAME=macnvim nvim"
alias ls="exa"
# alias ls='ls -Ghp'

# Permissions 
alias perms="stat -f '%N %A' *"

# Spezial Commands simplified 
alias remove="shred -n 512 --remove "
alias uuid="sysctl -n kernel.random.uuid"

# Tmux
alias tn="tmux display-message -p '#S'"
alias tl="tmux list-sessions"
alias ta="tmux attach -t"
alias td="tmux detach"
alias tk="tmux kill-session -a -t"
tms() {
    local dir
    dir=$(find ~/Projects ~/.config ~/Documents ~/Desktop ~/Downloads-type d 2> /dev/null | fzf +m)
    session_name=$(basename $dir)
    tmux has-session -t=$session_name 2> /dev/null

    if [[ $? -ne 0 ]]; then
        TMUX='' tmux new-session -d -s "$session_name" -c $dir
    fi

    if [[ -z "$TMUX" ]]; then
        tmux attach -t "$session_name"
    else
        tmux switch-client -t "$session_name"
    fi
}

# --- I3WM RELATED SHIT --- 

# Turn on/off the Laptop
alias hpoff="xrandr --output eDP --off"
alias hpon="xrandr --output eDP --off"

# Manage Monitors
duplicate() {
    if [ -z "$1" ] || [ -z "$2" ]; then
        echo "Error: Two monitor identifiers and the location is required."
        echo "  Monitors:"
        xrandr --listmonitors | awk 'NR>1 {print "\t- "$NF}'
        echo "Usage: duplicate <monitor-a> <monitor-b>"
        return 1
    fi
    xrandr --output $1 --same-as $2
}
expand() {
    if [ -z "$1" ] || [ -z "$2" ]; then
        echo "Error: Two monitor identifiers and the location is required."
        echo "  Monitors:"
        xrandr --listmonitors | awk 'NR>1 {print "\t- "$NF}'
        echo "  Location:"
        echo "        - --left-of"
        echo "        - --right-of"
        echo "        - --above"
        echo "        - --below"
        echo "Usage: expand <monitor-a> <location> <monitor-b>"
        return 1
    fi
    xrandr --output $1 $2 $3
}

# Set a random Wallpaper
alias wallpaper="feh --bg-fill --randomize Pictures/wallpapers/"

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
. "$HOME/.cargo/env"

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
